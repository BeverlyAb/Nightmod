<html><body><div class="content"><div class="item"><div class="clj"><div class="c-head">(pref! name k & options)</div><div class="c-doc"><p>Retrieves and stores preferences. The <code>name</code> should be a unique string.</p><pre>
; define the name we'll be using
&#40;def &#94;:const pref-name &quot;my-game.settings&quot;&#41;
; store a single preference
&#40;pref! pref-name :put-float &quot;player-health&quot; 40&#41;
; store multiple preferences
&#40;pref! pref-name :put {&quot;player-health&quot; 40
                       &quot;player-x&quot; 20
                       &quot;player-y&quot; 50}&#41;
; save the changes to the disk
&#40;pref! pref-name :flush&#41;
; retrieve a single preference
&#40;pref! pref-name :get-float &quot;player-health&quot;&#41;
</pre></div></div><div class="c-head">Options</div><div class="java"><div class="j-item"><span class="j-name">:clear</span><span class="j-args"></span></div><div class="j-item"><span class="j-name">:contains</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span></span></div><div class="j-item"><span class="j-name">:flush</span><span class="j-args"></span><div class="j-doc">Makes sure the preferences are persisted.</div></div><div class="j-item"><span class="j-name">:get</span><span class="j-args"></span><div class="j-doc">Returns a read only Map<String, Object> with all the key, objects of the preferences.</div></div><div class="j-item"><span class="j-name">:get-boolean</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span></span></div><div class="j-item"><span class="j-name">:get-boolean</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^boolean</span> def-value</span></span></div><div class="j-item"><span class="j-name">:get-float</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span></span></div><div class="j-item"><span class="j-name">:get-float</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^float</span> def-value</span></span></div><div class="j-item"><span class="j-name">:get-integer</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span></span></div><div class="j-item"><span class="j-name">:get-integer</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^int</span> def-value</span></span></div><div class="j-item"><span class="j-name">:get-long</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span></span></div><div class="j-item"><span class="j-name">:get-long</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^long</span> def-value</span></span></div><div class="j-item"><span class="j-name">:get-string</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span></span></div><div class="j-item"><span class="j-name">:get-string</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^String</span> def-value</span></span></div><div class="j-item"><span class="j-name">:put</span><span class="j-args"><span class="j-arg"><span class="j-type">^java.util.Map</span> vals</span></span></div><div class="j-item"><span class="j-name">:put-boolean</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^boolean</span> val</span></span></div><div class="j-item"><span class="j-name">:put-float</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^float</span> val</span></span></div><div class="j-item"><span class="j-name">:put-integer</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^int</span> val</span></span></div><div class="j-item"><span class="j-name">:put-long</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^long</span> val</span></span></div><div class="j-item"><span class="j-name">:put-string</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span>, <span class="j-arg"><span class="j-type">^String</span> val</span></span></div><div class="j-item"><span class="j-name">:remove</span><span class="j-args"><span class="j-arg"><span class="j-type">^String</span> key</span></span></div></div><div class="c-head">Source</div><div class="c-src"><pre>(defmacro pref!
  [name k & options]
  `(let [^Preferences p# (if (string? ~name)
                           (app! :get-preferences ~name)
                           ~name)]
     (u/call! p# ~k ~@options)))</pre></div></div></div></body></html>